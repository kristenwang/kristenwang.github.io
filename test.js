;window.Modernizr=function(a,b,c){
	function H(){
		e.input=function(a){
			for(var b=0,c=a.length;b<c;b++)
				t[a[b]]=a[b]in l;return t
		}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),
		e.inputtypes=function(a){
			for(var d=0,e,f,h,i=a.length;d<i;d++)
				l.setAttribute("type",f=a[d]),
			e=l.type!=="text",
			e&&(l.value=m,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&l.style.WebkitAppearance!==c?(g.appendChild(l),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,g.removeChild(l)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=l.checkValidity&&l.checkValidity()===!1:/^color$/.test(f)?(g.appendChild(l),g.offsetWidth,e=l.value!=m,g.removeChild(l)):e=l.value!=m)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function F(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+p.join(c+" ")+c).split(" ");return E(d,b)}function E(a,b){for(var d in a)if(k[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function D(a,b){return!!~(""+a).indexOf(b)}function C(a,b){return typeof a===b}function B(a,b){return A(o.join(a+";")+(b||""))}function A(a){k.cssText=a}var d="2.0.6",e={},f=!0,g=b.documentElement,h=b.head||b.getElementsByTagName("head")[0],i="modernizr",j=b.createElement(i),k=j.style,l=b.createElement("input"),m=":)",n=Object.prototype.toString,o=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),p="Webkit Moz O ms Khtml".split(" "),q={svg:"http://www.w3.org/2000/svg"},r={},s={},t={},u=[],v=function(a,c,d,e){var f,h,j,k=b.createElement("div");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:i+(d+1),k.appendChild(j);f=["&shy;","<style>",a,"</style>"].join(""),k.id=i,k.innerHTML+=f,g.appendChild(k),h=c(k,a),k.parentNode.removeChild(k);return!!h},w=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=C(e[d],"function"),C(e[d],c)||(e[d]=c),e.removeAttribute(d))),e=null;return f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),x,y={}.hasOwnProperty,z;!C(y,c)&&!C(y.call,c)?z=function(a,b){return y.call(a,b)}:z=function(a,b){return b in a&&C(a.constructor.prototype[b],c)};var G=function(c,d){var f=c.join(""),g=d.length;v(f,function(c,d){var f=b.styleSheets[b.styleSheets.length-1],h=f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"",i=c.childNodes,j={};while(g--)j[i[g].id]=i[g];e.touch="ontouchstart"in a||j.touch.offsetTop===9,e.csstransforms3d=j.csstransforms3d.offsetLeft===9,e.generatedcontent=j.generatedcontent.offsetHeight>=1,e.fontface=/src/i.test(h)&&h.indexOf(d.split(" ")[0])===0},g,d)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",o.join("touch-enabled),("),i,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",o.join("transform-3d),("),i,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',m,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);r.flexbox=function(){function c(a,b,c,d){a.style.cssText=o.join(b+":"+c+";")+(d||"")}function a(a,b,c,d){b+=":",a.style.cssText=(b+o.join(c+";"+b)).slice(0,-b.length)+(d||"")}var d=b.createElement("div"),e=b.createElement("div");a(d,"display","box","width:42px;padding:0;"),c(e,"box-flex","1","width:10px;"),d.appendChild(e),g.appendChild(d);var f=e.offsetWidth===42;d.removeChild(e),g.removeChild(d);return f},r.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},r.canvastext=function(){return!!e.canvas&&!!C(b.createElement("canvas").getContext("2d").fillText,"function")},r.webgl=function(){return!!a.WebGLRenderingContext},r.touch=function(){return e.touch},r.geolocation=function(){return!!navigator.geolocation},r.postmessage=function(){return!!a.postMessage},r.websqldatabase=function(){var b=!!a.openDatabase;return b},r.indexedDB=function(){for(var b=-1,c=p.length;++b<c;)if(a[p[b].toLowerCase()+"IndexedDB"])return!0;return!!a.indexedDB},r.hashchange=function(){return w("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},r.history=function(){return!!a.history&&!!history.pushState},r.draganddrop=function(){return w("dragstart")&&w("drop")},r.websockets=function(){for(var b=-1,c=p.length;++b<c;)if(a[p[b]+"WebSocket"])return!0;return"WebSocket"in a},r.rgba=function(){A("background-color:rgba(150,255,150,.5)");return D(k.backgroundColor,"rgba")},r.hsla=function(){A("background-color:hsla(120,40%,100%,.5)");return D(k.backgroundColor,"rgba")||D(k.backgroundColor,"hsla")},r.multiplebgs=function(){A("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(k.background)},r.backgroundsize=function(){return F("backgroundSize")},r.borderimage=function(){return F("borderImage")},r.borderradius=function(){return F("borderRadius")},r.boxshadow=function(){return F("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){B("opacity:.55");return/^0.55$/.test(k.opacity)},r.cssanimations=function(){return F("animationName")},r.csscolumns=function(){return F("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";A((a+o.join(b+a)+o.join(c+a)).slice(0,-a.length));return D(k.backgroundImage,"gradient")},r.cssreflections=function(){return F("boxReflect")},r.csstransforms=function(){return!!E(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},r.csstransforms3d=function(){var a=!!E(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in g.style&&(a=e.csstransforms3d);return a},r.csstransitions=function(){return F("transitionProperty")},r.fontface=function(){return e.fontface},r.generatedcontent=function(){return e.generatedcontent},r.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType){c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"');var d='video/mp4; codecs="avc1.42E01E';c.h264=a.canPlayType(d+'"')||a.canPlayType(d+', mp4a.40.2"'),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(e){}return c},r.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),c.mp3=a.canPlayType("audio/mpeg;"),c.wav=a.canPlayType('audio/wav; codecs="1"'),c.m4a=a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")}catch(d){}return c},r.localstorage=function(){try{return!!localStorage.getItem}catch(a){return!1}},r.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(a){return!1}},r.webworkers=function(){return!!a.Worker},r.applicationcache=function(){return!!a.applicationCache},r.svg=function(){return!!b.createElementNS&&!!b.createElementNS(q.svg,"svg").createSVGRect},r.inlinesvg=function(){var a=b.createElement("div");a.innerHTML="<svg/>";return(a.firstChild&&a.firstChild.namespaceURI)==q.svg},r.smil=function(){return!!b.createElementNS&&/SVG/.test(n.call(b.createElementNS(q.svg,"animate")))},r.svgclippaths=function(){return!!b.createElementNS&&/SVG/.test(n.call(b.createElementNS(q.svg,"clipPath")))};for(var I in r)z(r,I)&&(x=I.toLowerCase(),e[x]=r[I](),u.push((e[x]?"":"no-")+x));e.input||H(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)z(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return;b=typeof b=="boolean"?b:!!b(),g.className+=" "+(b?"":"no-")+a,e[a]=b}return e},A(""),j=l=null,a.attachEvent&&function(){var a=b.createElement("div");a.innerHTML="<elem></elem>";return a.childNodes.length!==1}()&&function(a,b){function s(a){var b=-1;while(++b<g)a.createElement(f[b])}a.iepp=a.iepp||{};var d=a.iepp,e=d.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",f=e.split("|"),g=f.length,h=new RegExp("(^|\\s)("+e+")","gi"),i=new RegExp("<(/*)("+e+")","gi"),j=/^\s*[\{\}]\s*$/,k=new RegExp("(^|[^\\n]*?\\s)("+e+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),l=b.createDocumentFragment(),m=b.documentElement,n=m.firstChild,o=b.createElement("body"),p=b.createElement("style"),q=/print|all/,r;d.getCSS=function(a,b){if(a+""===c)return"";var e=-1,f=a.length,g,h=[];while(++e<f){g=a[e];if(g.disabled)continue;b=g.media||b,q.test(b)&&h.push(d.getCSS(g.imports,b),g.cssText),b="all"}return h.join("")},d.parseCSS=function(a){var b=[],c;while((c=k.exec(a))!=null)b.push(((j.exec(c[1])?"\n":c[1])+c[2]+c[3]).replace(h,"$1.iepp_$2")+c[4]);return b.join("\n")},d.writeHTML=function(){var a=-1;r=r||b.body;while(++a<g){var c=b.getElementsByTagName(f[a]),d=c.length,e=-1;while(++e<d)c[e].className.indexOf("iepp_")<0&&(c[e].className+=" iepp_"+f[a])}l.appendChild(r),m.appendChild(o),o.className=r.className,o.id=r.id,o.innerHTML=r.innerHTML.replace(i,"<$1font")},d._beforePrint=function(){p.styleSheet.cssText=d.parseCSS(d.getCSS(b.styleSheets,"all")),d.writeHTML()},d.restoreHTML=function(){o.innerHTML="",m.removeChild(o),m.appendChild(r)},d._afterPrint=function(){d.restoreHTML(),p.styleSheet.cssText=""},s(b),s(l);d.disablePP||(n.insertBefore(p,n.firstChild),p.media="print",p.className="iepp-printshim",a.attachEvent("onbeforeprint",d._beforePrint),a.attachEvent("onafterprint",d._afterPrint))}(a,b),e._version=d,e._prefixes=o,e._domPrefixes=p,e.hasEvent=w,e.testProp=function(a){return E([a])},e.testAllProps=F,e.testStyles=v,e.prefixed=function(a){return F(a,"pfx")},g.className=g.className.replace(/\bno-js\b/,"")+(f?" js "+u.join(" "):"");return e}(this,this.document);
;;;
Modernizr.addTest('directXFilters',function(){
	var ret=false;
	var test=document.createElement('div');
	var testFilterString='progid:DXImageTransform.Microsoft.Chroma(color="black")';
	test.style.filter=testFilterString;
	ret=(test.style.filter==testFilterString);
	return ret;});
;;;
jQuery.effects||function(f,j){
	function m(c){
		var a;
		if(c&&c.constructor==Array&&c.length==3)
			return c;
		if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))
			return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)];
		if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))
			return[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55];
		if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))
			return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)];
		if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))
			return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];
		if(/rgba\(0, 0, 0, 0\)/.exec(c))
			return n.transparent;
		return n[f.trim(c).toLowerCase()]
	}
	function s(c,a){
		var b;do{
			b=f.curCSS(c,a);
			if(b!=""&&b!="transparent"||f.nodeName(c,"body"))break;a="backgroundColor"
		}while(c=c.parentNode);
		return m(b)
	}
	function o(){
		var c=document.defaultView?document.defaultView.getComputedStyle(this,null):
		this.currentStyle,a={},b,d;
		if(c&&c.length&&c[0]&&c[c[0]])
			for(var e=c.length;e--;){
				b=c[e];
				if(typeof c[b]=="string"){
					d=b.replace(/\-(\w)/g,
						function(g,h){
						return h.toUpperCase()});a[d]=c[b]
				}
			}else for(b in c)
			if(typeof c[b]==="string")a[b]=c[b];
			return a
		}
		function p(c){
			var a,b;for(a in c){
				b=c[a];
				if(b==null||f.isFunction(b)||a in t||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(b)))
					delete c[a]
			}
			return c
		}
		function u(c,a){
			var b={_:0},d;
			for(d in a)
				if(c[d]!=a[d])b[d]=a[d];
			return b
		}
		function k(c,a,b,d){if(typeof c=="object"){d=a;b=null;a=c;c=a.effect}if(f.isFunction(a)){d=a;b=null;a={}}if(typeof a=="number"||f.fx.speeds[a]){d=b;b=a;a={}}if(f.isFunction(b)){d=b;b=null}a=a||{};b=b||a.duration;b=f.fx.off?0:typeof b=="number"?b:b in f.fx.speeds?f.fx.speeds[b]:f.fx.speeds._default;d=d||a.complete;return[c,a,b,d]}function l(c){if(!c||typeof c==="number"||f.fx.speeds[c])return true;if(typeof c==="string"&&!f.effects[c])return true;return false}f.effects={};f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(c,a){f.fx.step[a]=function(b){if(!b.colorInit){b.start=s(b.elem,a);b.end=m(b.end);b.colorInit=true}b.elem.style[a]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},q=["add","remove","toggle"],t={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};f.effects.animateClass=function(c,a,b,d){if(f.isFunction(b)){d=b;b=null}return this.queue(function(){var e=f(this),g=e.attr("style")||" ",h=p(o.call(this)),r,v=e.attr("class");f.each(q,function(w,i){c[i]&&e[i+"Class"](c[i])});r=p(o.call(this));e.attr("class",v);e.animate(u(h,r),{queue:false,duration:a,easding:b,complete:function(){f.each(q,function(w,i){c[i]&&e[i+"Class"](c[i])});if(typeof e.attr("style")=="object"){e.attr("style").cssText="";e.attr("style").cssText=g}else e.attr("style",g);d&&d.apply(this,arguments);f.dequeue(this)}})})};f.fn.extend({_addClass:f.fn.addClass,addClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{add:c},a,b,d]):this._addClass(c)},_removeClass:f.fn.removeClass,removeClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{remove:c},a,b,d]):this._removeClass(c)},_toggleClass:f.fn.toggleClass,toggleClass:function(c,a,b,d,e){return typeof a=="boolean"||a===j?b?f.effects.animateClass.apply(this,[a?{add:c}:{remove:c},b,d,e]):this._toggleClass(c,a):f.effects.animateClass.apply(this,[{toggle:c},a,b,d])},switchClass:function(c,a,b,d,e){return f.effects.animateClass.apply(this,[{add:a,remove:c},b,d,e])}});f.extend(f.effects,{version:"1.8.13",save:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.data("ec.storage."+a[b],c[0].style[a[b]])},restore:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.css(a[b],c.data("ec.storage."+a[b]))},setMode:function(c,a){if(a=="toggle")a=c.is(":hidden")?"show":"hide";return a},getBaseline:function(c,a){var b;switch(c[0]){case"top":b=0;break;case"middle":b=0.5;break;case"bottom":b=1;break;default:b=c[0]/a.height}switch(c[1]){case"left":c=0;break;case"center":c=0.5;break;case"right":c=1;break;default:c=c[1]/a.width}return{x:c,y:b}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var a={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},b=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});c.wrap(b);b=c.parent();if(c.css("position")=="static"){b.css({position:"relative"});c.css({position:"relative"})}else{f.extend(a,{position:c.css("position"),zIndex:c.css("z-index")});f.each(["top","left","bottom","right"],function(d,e){a[e]=c.css(e);if(isNaN(parseInt(a[e],10)))a[e]="auto"});c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return b.css(a).show()},removeWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent().replaceWith(c);return c},setTransition:function(c,a,b,d){d=d||{};f.each(a,function(e,g){unit=c.cssUnit(g);if(unit[0]>0)d[g]=unit[0]*b+unit[1]});return d}});f.fn.extend({effect:function(c){var a=k.apply(this,arguments),b={options:a[1],duration:a[2],callback:a[3]};a=b.options.mode;var d=f.effects[c];if(f.fx.off||!d)return a?this[a](b.duration,b.callback):this.each(function(){b.callback&&b.callback.call(this)});return d.call(this,b)},_show:f.fn.show,show:function(c){if(l(c))return this._show.apply(this,arguments);else{var a=k.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a)}},_hide:f.fn.hide,hide:function(c){if(l(c))return this._hide.apply(this,arguments);else{var a=k.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a)}},__toggle:f.fn.toggle,toggle:function(c){if(l(c)||typeof c==="boolean"||f.isFunction(c))return this.__toggle.apply(this,arguments);else{var a=k.apply(this,arguments);a[1].mode="toggle";return this.effect.apply(this,a)}},cssUnit:function(c){var a=this.css(c),b=[];f.each(["em","px","%","pt"],function(d,e){if(a.indexOf(e)>0)b=[parseFloat(a),e]});return b}});f.easing.jswing=f.easing.swing;f.extend(f.easing,{def:"easeOutQuad",swing:function(c,a,b,d,e){return f.easing[f.easing.def](c,a,b,d,e)},easeInQuad:function(c,a,b,d,e){return d*(a/=e)*a+b},easeOutQuad:function(c,a,b,d,e){return-d*(a/=e)*(a-2)+b},easeInOutQuad:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a+b;return-d/2*(--a*(a-2)-1)+b},easeInCubic:function(c,a,b,d,e){return d*(a/=e)*a*a+b},easeOutCubic:function(c,a,b,d,e){return d*((a=a/e-1)*a*a+1)+b},easeInOutCubic:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a+b;return d/2*((a-=2)*a*a+2)+b},easeInQuart:function(c,a,b,d,e){return d*(a/=e)*a*a*a+b},easeOutQuart:function(c,a,b,d,e){return-d*((a=a/e-1)*a*a*a-1)+b},easeInOutQuart:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a+b;return-d/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(c,a,b,d,e){return d*(a/=e)*a*a*a*a+b},easeOutQuint:function(c,a,b,d,e){return d*((a=a/e-1)*a*a*a*a+1)+b},easeInOutQuint:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a*a+b;return d/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(c,a,b,d,e){return-d*Math.cos(a/e*(Math.PI/2))+d+b},easeOutSine:function(c,a,b,d,e){return d*Math.sin(a/e*(Math.PI/2))+b},easeInOutSine:function(c,a,b,d,e){return-d/2*(Math.cos(Math.PI*a/e)-1)+b},easeInExpo:function(c,a,b,d,e){return a==0?b:d*Math.pow(2,10*(a/e-1))+b},easeOutExpo:function(c,a,b,d,e){return a==e?b+d:d*(-Math.pow(2,-10*a/e)+1)+b},easeInOutExpo:function(c,a,b,d,e){if(a==0)return b;if(a==e)return b+d;if((a/=e/2)<1)return d/2*Math.pow(2,10*(a-1))+b;return d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(c,a,b,d,e){return-d*(Math.sqrt(1-(a/=e)*a)-1)+b},easeOutCirc:function(c,a,b,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+b},easeInOutCirc:function(c,a,b,d,e){if((a/=e/2)<1)return-d/2*(Math.sqrt(1-a*a)-1)+b;return d/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e)==1)return b+d;g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g))+b},easeOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e)==1)return b+d;g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*a)*Math.sin((a*e-c)*2*Math.PI/g)+d+b},easeInOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e/2)==2)return b+d;g||(g=e*0.3*1.5);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);if(a<1)return-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)+b;return h*Math.pow(2,-10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)*0.5+d+b},easeInBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;return d*(a/=e)*a*((g+1)*a-g)+b},easeOutBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;return d*((a=a/e-1)*a*((g+1)*a+g)+1)+b},easeInOutBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;if((a/=e/2)<1)return d/2*a*a*(((g*=1.525)+1)*a-g)+b;return d/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},easeInBounce:function(c,a,b,d,e){return d-f.easing.easeOutBounce(c,e-a,0,d,e)+b},easeOutBounce:function(c,a,b,d,e){return(a/=e)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},easeInOutBounce:function(c,a,b,d,e){if(a<e/2)return f.easing.easeInBounce(c,a*2,0,d,e)*0.5+b;return f.easing.easeOutBounce(c,a*2-e,0,d,e)*0.5+d*0.5+b}})}(jQuery);;
;;;
(function(z){z.format=function(){var o={date:{format:"dddd, MMMM dd, yyyy h:mm:ss tt",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],timeFormat:"h:mm tt",shortDateFormat:"M/d/yyyy",longDateFormat:"dddd, MMMM dd, yyyy"},number:{format:"#,##0.0#",groupingSeparator:",",decimalSeparator:"."}};return{locale:function(c){a={a:6};if(c)for(var i in c)for(var g in c[i])o[i][g]=c[i][g];return o},date:function(c,i){var g=0,h=0,b=0;b=h="";var e,m;if(typeof c=="string"){var n=function(q,v,y,w){for(w=w;w>=y;w--){var x=q.substring(v,v+w);if(x.length>=y&&(new RegExp(/^\d+$/)).test(x))return x}return null};if(typeof i=="undefined")i=o.date.format;var d=0,l=new Date,k=l.getYear(),f=l.getMonth()+1,r=1,j=l.getHours(),t=l.getMinutes(),u=l.getSeconds();l=l.getMilliseconds();for(var s="",p;g<i.length;){b="";for(h=i.charAt(g);i.charAt(g)==h&&g<i.length;)b+=i.charAt(g++);if(b.indexOf("MMMM")>-1&&b.length>4)b="MMMM";if(b.indexOf("EEEE")>-1&&b.length>4)b="EEEE";if(b=="yyyy"||b=="yy"||b=="y"){if(b=="yyyy")m=e=4;if(b=="yy")m=e=2;if(b=="y"){e=2;m=4}k=n(c,d,e,m);if(k===null)return 0;d+=k.length;if(k.length==2){k=parseInt(k,10);k=k>70?1900+k:2E3+k}}else if(b=="MMMM"){h=f=0;for(b=o.date.monthsFull.length;h<b;h++){p=o.date.monthsFull[h];if(c.substring(d,d+p.length).toLowerCase()==p.toLowerCase()){f=h+1;d+=p.length;break}}if(f<1||f>12)return 0}else if(b=="MMM"){h=f=0;for(b=o.date.monthsShort.length;h<b;h++){p=o.date.monthsShort[h];if(c.substring(d,d+p.length).toLowerCase()==p.toLowerCase()){f=h+1;d+=p.length;break}}if(f<1||f>12)return 0}else if(b=="EEEE"){h=0;for(b=o.date.daysFull.length;h<b;h++){p=o.date.daysFull[h];if(c.substring(d,d+p.length).toLowerCase()==p.toLowerCase()){d+=p.length;break}}}else if(b=="EEE"){h=0;for(b=o.date.daysShort.length;h<b;h++){p=o.date.daysShort[h];if(c.substring(d,d+p.length).toLowerCase()==p.toLowerCase()){d+=p.length;break}}}else if(b=="MM"||b=="M"){f=n(c,d,1,2);if(f===null||f<1||f>12)return 0;d+=f.length}else if(b=="dd"||b=="d"){r=n(c,d,1,2);if(r===null||r<1||r>31)return 0;d+=r.length}else if(b=="hh"||b=="h"){j=n(c,d,1,2);if(j===null||j<1||j>12)return 0;d+=j.length}else if(b=="HH"||b=="H"){j=n(c,d,1,2);if(j===null||j<0||j>23)return 0;d+=j.length}else if(b=="KK"||b=="K"){j=n(c,d,1,2);if(j===null||j<0||j>11)return 0;d+=j.length}else if(b=="kk"||b=="k"){j=n(c,d,1,2);if(j===null||j<1||j>24)return 0;d+=j.length;j--}else if(b=="mm"||b=="m"){t=n(c,d,1,2);if(t===null||t<0||t>59)return 0;d+=t.length}else if(b=="ss"||b=="s"){u=n(c,d,1,2);if(u===null||u<0||u>59)return 0;d+=u.length}else if(b=="SSS"||b=="SS"||b=="S"){l=n(c,d,1,3);if(l===null||l<0||l>999)return 0;d+=l.length}else if(b=="a"){s=c.substring(d,d+2).toLowerCase();if(s=="am")s="AM";else if(s=="pm")s="PM";else return 0;d+=2}else if(b!=c.substring(d,d+b.length))return 0;else d+=b.length}if(d!=c.length)return 0;if(f==2)if(k%4===0&&k%100!==0||k%400===0){if(r>29)return 0}else if(r>28)return 0;if(f==4||f==6||f==9||f==11)if(r>30)return 0;if(j<12&&s=="PM")j=j-0+12;else if(j>11&&s=="AM")j-=12;return new Date(k,f-1,r,j,t,u,l)}else{g=function(q,v){if(typeof v=="undefined"||v==2)return(q>=0&&q<10?"0":"")+q;else{if(q>=0&&q<10)return"00"+q;if(q>=10&&q<100)return"0"+q;return q}};if(typeof i=="undefined")i=o.date.format;m=c.getYear();if(m<1E3)m=String(m+1900);n=c.getMonth()+1;d=c.getDate();k=c.getDay();f=c.getHours();r=c.getMinutes();e=c.getSeconds();j=c.getMilliseconds();c={y:m,yyyy:m,yy:String(m).substring(2,4),M:n,MM:g(n),MMM:o.date.monthsShort[n-1],MMMM:o.date.monthsFull[n-1],d:d,dd:g(d),EEE:o.date.daysShort[k],EEEE:o.date.daysFull[k],H:f,HH:g(f)};c.h=f===0?12:f>12?f-12:f;c.hh=g(c.h);c.k=f+1;c.kk=g(c.k);c.K=f>11?f-12:f;c.KK=g(c.K);c.a=f>11?"PM":"AM";c.m=r;c.mm=g(r);c.s=e;c.ss=g(e);c.S=j;c.SS=g(j);c.SSS=g(j,3);m="";g=0;b=h="";for(e=false;g<i.length;){b="";h=i.charAt(g);if(h=="'"){g++;if(i.charAt(g)==h){m+=h;g++}else e=!e}else{for(;i.charAt(g)==h;)b+=i.charAt(g++);if(b.indexOf("MMMM")!=-1&&b.length>4)b="MMMM";if(b.indexOf("EEEE")!=-1&&b.length>4)b="EEEE";m+=typeof c[b]!="undefined"&&!e?c[b]:b}}return m}},number:function(c,i){var g,h,b,e;if(typeof c=="string"){g=o.number.groupingSeparator;h=o.number.decimalSeparator;b=c.indexOf(h);e=1;if(b!=-1)e=Math.pow(10,c.length-b-1);c=c.replace(new RegExp("["+g+"]","g"),"");c=c.replace(new RegExp("["+h+"]"),".");return parseInt(c*e,10)/e}else{if(typeof i=="undefined"||i.length<1)i=o.number.format;var m="",n="",d=c<0;c=Math.abs(c);g=",";g=i.lastIndexOf(g);h=".";b=i.indexOf(h);if(b!=-1){n=o.number.decimalSeparator;h=i.substr(b+1).replace(/#/g,"").length;var l=i.substr(b+1).length;if(l>0){e=1E3;var k=Math.pow(10,l),f=Math.round(parseInt(c*k*e-Math.round(c)*k*e,10)/e);k=String(f<0?Math.round(parseInt(c*k*e-parseInt(c,10)*k*e,10)/e):f);f=c.toString().split(".");if(typeof f[1]!="undefined")for(e=0;e<f[1].length;e++)if(f[1].substr(e,1)=="0")k="0"+k;else break;for(e=0;e<l-n.length;e++)k+="0";f="";for(e=0;e<k.length;e++){l=k.substr(e,1);if(e>=h&&l=="0"&&/^0*$/.test(k.substr(e+1)))break;f+=l}n+=f}if(n==o.number.decimalSeparator)n=""}if(b!==0){m=n!=""?String(Math.floor(c)):String(Math.round(c));c=o.number.groupingSeparator;h=0;if(g!=-1){h=b!=-1?b-g:i.length-g;h--}if(h>0){g=0;l="";for(e=m.length;e--;){if(g!==0&&g%h===0)l=c+l;l=m.substr(e,1)+l;g++}m=l}i=b!=-1?i.substr(0,b).replace(new RegExp("#|"+c,"g"),"").length:i.replace(new RegExp("#|"+
c,"g"),"").length;for(e=m.length;e<i;e++)m="0"+m}result=m+n;return(d?"-":"")+result}}}}()})(jQuery);
;;;
(function($){var types=['DOMMouseScroll','mousewheel'];$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;i;){this.addEventListener(types[--i],handler,false);}}else{this.onmousewheel=handler;}},teardown:function(){if(this.removeEventListener){for(var i=types.length;i;){this.removeEventListener(types[--i],handler,false);}}else{this.onmousewheel=null;}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel");},unmousewheel:function(fn){return this.unbind("mousewheel",fn);}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if(event.wheelDelta){delta=event.wheelDelta/120;}
if(event.detail){delta=-event.detail/3;}
deltaY=delta;if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;deltaX=-1*delta;}
if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120;}
if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120;}
args.unshift(event,delta,deltaX,deltaY);return $.event.handle.apply(this,args);}})(jQuery);
;;;
(function($){var mwheelI={pos:[-260,-260]},minDif=3,doc=document,root=doc.documentElement,body=doc.body,longDelay,shortDelay;function unsetPos(){if(this===mwheelI.elem){mwheelI.pos=[-260,-260];mwheelI.elem=false;minDif=3;}}
$.event.special.mwheelIntent={setup:function(){var jElm=$(this).bind('mousewheel',$.event.special.mwheelIntent.handler);if(this!==doc&&this!==root&&this!==body){jElm.bind('mouseleave',unsetPos);}
jElm=null;return true;},teardown:function(){$(this).unbind('mousewheel',$.event.special.mwheelIntent.handler).unbind('mouseleave',unsetPos);return true;},handler:function(e,d){var pos=[e.clientX,e.clientY];if(this===mwheelI.elem||Math.abs(mwheelI.pos[0]-pos[0])>minDif||Math.abs(mwheelI.pos[1]-pos[1])>minDif){mwheelI.elem=this;mwheelI.pos=pos;minDif=250;clearTimeout(shortDelay);shortDelay=setTimeout(function(){minDif=10;},200);clearTimeout(longDelay);longDelay=setTimeout(function(){minDif=3;},1500);e=$.extend({},e,{type:'mwheelIntent'});return $.event.handle.apply(this,arguments);}}};$.fn.extend({mwheelIntent:function(fn){return fn?this.bind("mwheelIntent",fn):this.trigger("mwheelIntent");},unmwheelIntent:function(fn){return this.unbind("mwheelIntent",fn);}});$(function(){body=doc.body;$(doc).bind('mwheelIntent.mwheelIntentDefault',$.noop);});})(jQuery);
;;;
(function(b,a,c){b.fn.jScrollPane=function(e){function d(D,O){var az,Q=this,Y,ak,v,am,T,Z,y,q,aA,aF,av,i,I,h,j,aa,U,aq,X,t,A,ar,af,an,G,l,au,ay,x,aw,aI,f,L,aj=true,P=true,aH=false,k=false,ap=D.clone(false,false).empty(),ac=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";aI=D.css("paddingTop")+" "+D.css("paddingRight")+" "+D.css("paddingBottom")+" "+D.css("paddingLeft");f=(parseInt(D.css("paddingLeft"),10)||0)+(parseInt(D.css("paddingRight"),10)||0);function at(aR){var aM,aO,aN,aK,aJ,aQ,aP=false,aL=false;az=aR;if(Y===c){aJ=D.scrollTop();aQ=D.scrollLeft();D.css({overflow:"hidden",padding:0});ak=D.innerWidth()+f;v=D.innerHeight();D.width(ak);Y=b('<div class="jspPane" />').css("padding",aI).append(D.children());am=b('<div class="jspContainer" />').css({width:ak+"px",height:v+"px"}).append(Y).appendTo(D)}else{D.css("width","");aP=az.stickToBottom&&K();aL=az.stickToRight&&B();aK=D.innerWidth()+f!=ak||D.outerHeight()!=v;if(aK){ak=D.innerWidth()+f;v=D.innerHeight();am.css({width:ak+"px",height:v+"px"})}if(!aK&&L==T&&Y.outerHeight()==Z){D.width(ak);return}L=T;Y.css("width","");D.width(ak);am.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}Y.css("overflow","auto");if(aR.contentWidth){T=aR.contentWidth}else{T=Y[0].scrollWidth}Z=Y[0].scrollHeight;Y.css("overflow","");y=T/ak;q=Z/v;aA=q>1;aF=y>1;if(!(aF||aA)){D.removeClass("jspScrollable");Y.css({top:0,width:am.width()-f});n();E();R();w();ai()}else{D.addClass("jspScrollable");aM=az.maintainPosition&&(I||aa);if(aM){aO=aD();aN=aB()}aG();z();F();if(aM){N(aL?(T-ak):aO,false);M(aP?(Z-v):aN,false)}J();ag();ao();if(az.enableKeyboardNavigation){S()}if(az.clickOnTrack){p()}C();if(az.hijackInternalLinks){m()}}if(az.autoReinitialise&&!aw){aw=setInterval(function(){at(az)},az.autoReinitialiseDelay)}else{if(!az.autoReinitialise&&aw){clearInterval(aw)}}aJ&&D.scrollTop(0)&&M(aJ,false);aQ&&D.scrollLeft(0)&&N(aQ,false);D.trigger("jsp-initialised",[aF||aA])}function aG(){if(aA){am.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />')));U=am.find(">.jspVerticalBar");aq=U.find(">.jspTrack");av=aq.find(">.jspDrag");if(az.showArrows){ar=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",aE(0,-1)).bind("click.jsp",aC);af=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",aE(0,1)).bind("click.jsp",aC);if(az.arrowScrollOnHover){ar.bind("mouseover.jsp",aE(0,-1,ar));af.bind("mouseover.jsp",aE(0,1,af))}al(aq,az.verticalArrowPositions,ar,af)}t=v;am.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){t-=b(this).outerHeight()});av.hover(function(){av.addClass("jspHover")},function(){av.removeClass("jspHover")}).bind("mousedown.jsp",function(aJ){b("html").bind("dragstart.jsp selectstart.jsp",aC);av.addClass("jspActive");var s=aJ.pageY-av.position().top;b("html").bind("mousemove.jsp",function(aK){V(aK.pageY-s,false)}).bind("mouseup.jsp mouseleave.jsp",ax);return false});o()}}function o(){aq.height(t+"px");I=0;X=az.verticalGutter+aq.outerWidth();Y.width(ak-X-f);try{if(U.position().left===0){Y.css("margin-left",X+"px")}}catch(s){}}function z(){if(aF){am.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />')));an=am.find(">.jspHorizontalBar");G=an.find(">.jspTrack");h=G.find(">.jspDrag");if(az.showArrows){ay=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",aE(-1,0)).bind("click.jsp",aC);x=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",aE(1,0)).bind("click.jsp",aC);if(az.arrowScrollOnHover){ay.bind("mouseover.jsp",aE(-1,0,ay));x.bind("mouseover.jsp",aE(1,0,x))}al(G,az.horizontalArrowPositions,ay,x)}h.hover(function(){h.addClass("jspHover")},function(){h.removeClass("jspHover")}).bind("mousedown.jsp",function(aJ){b("html").bind("dragstart.jsp selectstart.jsp",aC);h.addClass("jspActive");var s=aJ.pageX-h.position().left;b("html").bind("mousemove.jsp",function(aK){W(aK.pageX-s,false)}).bind("mouseup.jsp mouseleave.jsp",ax);return false});l=am.innerWidth();ah()}}function ah(){am.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){l-=b(this).outerWidth()});G.width(l+"px");aa=0}function F(){if(aF&&aA){var aJ=G.outerHeight(),s=aq.outerWidth();t-=aJ;b(an).find(">.jspCap:visible,>.jspArrow").each(function(){l+=b(this).outerWidth()});l-=s;v-=s;ak-=aJ;G.parent().append(b('<div class="jspCorner" />').css("width",aJ+"px"));o();ah()}if(aF){Y.width((am.outerWidth()-f)+"px")}Z=Y.outerHeight();q=Z/v;if(aF){au=Math.ceil(1/y*l);if(au>az.horizontalDragMaxWidth){au=az.horizontalDragMaxWidth}else{if(au<az.horizontalDragMinWidth){au=az.horizontalDragMinWidth}}h.width(au+"px");j=l-au;ae(aa)}if(aA){A=Math.ceil(1/q*t);if(A>az.verticalDragMaxHeight){A=az.verticalDragMaxHeight}else{if(A<az.verticalDragMinHeight){A=az.verticalDragMinHeight}}av.height(A+"px");i=t-A;ad(I)}}function al(aK,aM,aJ,s){var aO="before",aL="after",aN;if(aM=="os"){aM=/Mac/.test(navigator.platform)?"after":"split"}if(aM==aO){aL=aM}else{if(aM==aL){aO=aM;aN=aJ;aJ=s;s=aN}}aK[aO](aJ)[aL](s)}function aE(aJ,s,aK){return function(){H(aJ,s,this,aK);this.blur();return false}}function H(aM,aL,aP,aO){aP=b(aP).addClass("jspActive");var aN,aK,aJ=true,s=function(){if(aM!==0){Q.scrollByX(aM*az.arrowButtonSpeed)}if(aL!==0){Q.scrollByY(aL*az.arrowButtonSpeed)}aK=setTimeout(s,aJ?az.initialDelay:az.arrowRepeatFreq);aJ=false};s();aN=aO?"mouseout.jsp":"mouseup.jsp";aO=aO||b("html");aO.bind(aN,function(){aP.removeClass("jspActive");aK&&clearTimeout(aK);aK=null;aO.unbind(aN)})}function p(){w();if(aA){aq.bind("mousedown.jsp",function(aO){if(aO.originalTarget===c||aO.originalTarget==aO.currentTarget){var aM=b(this),aP=aM.offset(),aN=aO.pageY-aP.top-I,aK,aJ=true,s=function(){var aS=aM.offset(),aT=aO.pageY-aS.top-A/2,aQ=v*az.scrollPagePercent,aR=i*aQ/(Z-v);if(aN<0){if(I-aR>aT){Q.scrollByY(-aQ)}else{V(aT)}}else{if(aN>0){if(I+aR<aT){Q.scrollByY(aQ)}else{V(aT)}}else{aL();return}}aK=setTimeout(s,aJ?az.initialDelay:az.trackClickRepeatFreq);aJ=false},aL=function(){aK&&clearTimeout(aK);aK=null;b(document).unbind("mouseup.jsp",aL)};s();b(document).bind("mouseup.jsp",aL);return false}})}if(aF){G.bind("mousedown.jsp",function(aO){if(aO.originalTarget===c||aO.originalTarget==aO.currentTarget){var aM=b(this),aP=aM.offset(),aN=aO.pageX-aP.left-aa,aK,aJ=true,s=function(){var aS=aM.offset(),aT=aO.pageX-aS.left-au/2,aQ=ak*az.scrollPagePercent,aR=j*aQ/(T-ak);if(aN<0){if(aa-aR>aT){Q.scrollByX(-aQ)}else{W(aT)}}else{if(aN>0){if(aa+aR<aT){Q.scrollByX(aQ)}else{W(aT)}}else{aL();return}}aK=setTimeout(s,aJ?az.initialDelay:az.trackClickRepeatFreq);aJ=false},aL=function(){aK&&clearTimeout(aK);aK=null;b(document).unbind("mouseup.jsp",aL)};s();b(document).bind("mouseup.jsp",aL);return false}})}}function w(){if(G){G.unbind("mousedown.jsp")}if(aq){aq.unbind("mousedown.jsp")}}function ax(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(av){av.removeClass("jspActive")}if(h){h.removeClass("jspActive")}}function V(s,aJ){if(!aA){return}if(s<0){s=0}else{if(s>i){s=i}}if(aJ===c){aJ=az.animateScroll}if(aJ){Q.animate(av,"top",s,ad)}else{av.css("top",s);ad(s)}}function ad(aJ){if(aJ===c){aJ=av.position().top}am.scrollTop(0);I=aJ;var aM=I===0,aK=I==i,aL=aJ/i,s=-aL*(Z-v);if(aj!=aM||aH!=aK){aj=aM;aH=aK;D.trigger("jsp-arrow-change",[aj,aH,P,k])}u(aM,aK);Y.css("top",s);D.trigger("jsp-scroll-y",[-s,aM,aK]).trigger("scroll")}function W(aJ,s){if(!aF){return}if(aJ<0){aJ=0}else{if(aJ>j){aJ=j}}if(s===c){s=az.animateScroll}if(s){Q.animate(h,"left",aJ,ae)}else{h.css("left",aJ);ae(aJ)}}function ae(aJ){if(aJ===c){aJ=h.position().left}am.scrollTop(0);aa=aJ;var aM=aa===0,aL=aa==j,aK=aJ/j,s=-aK*(T-ak);if(P!=aM||k!=aL){P=aM;k=aL;D.trigger("jsp-arrow-change",[aj,aH,P,k])}r(aM,aL);Y.css("left",s);D.trigger("jsp-scroll-x",[-s,aM,aL]).trigger("scroll")}function u(aJ,s){if(az.showArrows){ar[aJ?"addClass":"removeClass"]("jspDisabled");af[s?"addClass":"removeClass"]("jspDisabled")}}function r(aJ,s){if(az.showArrows){ay[aJ?"addClass":"removeClass"]("jspDisabled");x[s?"addClass":"removeClass"]("jspDisabled")}}function M(s,aJ){var aK=s/(Z-v);V(aK*i,aJ)}function N(aJ,s){var aK=aJ/(T-ak);W(aK*j,s)}function ab(aW,aR,aK){var aO,aL,aM,s=0,aV=0,aJ,aQ,aP,aT,aS,aU;try{aO=b(aW)}catch(aN){return}aL=aO.outerHeight();aM=aO.outerWidth();am.scrollTop(0);am.scrollLeft(0);while(!aO.is(".jspPane")){s+=aO.position().top;aV+=aO.position().left;aO=aO.offsetParent();if(/^body|html$/i.test(aO[0].nodeName)){return}}aJ=aB();aP=aJ+v;if(s<aJ||aR){aS=s-az.verticalGutter}else{if(s+aL>aP){aS=s-v+aL+az.verticalGutter}}if(aS){M(aS,aK)}aQ=aD();aT=aQ+ak;if(aV<aQ||aR){aU=aV-az.horizontalGutter}else{if(aV+aM>aT){aU=aV-ak+aM+az.horizontalGutter}}if(aU){N(aU,aK)}}function aD(){return-Y.position().left}function aB(){return-Y.position().top}function K(){var s=Z-v;return(s>20)&&(s-aB()<10)}function B(){var s=T-ak;return(s>20)&&(s-aD()<10)}function ag(){am.unbind(ac).bind(ac,function(aM,aN,aL,aJ){var aK=aa,s=I;Q.scrollBy(aL*az.mouseWheelSpeed,-aJ*az.mouseWheelSpeed,false);return aK==aa&&s==I})}function n(){am.unbind(ac)}function aC(){return false}function J(){Y.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(s){ab(s.target,false)})}function E(){Y.find(":input,a").unbind("focus.jsp")}function S(){var s,aJ,aL=[];aF&&aL.push(an[0]);aA&&aL.push(U[0]);Y.focus(function(){D.focus()});D.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(aO){if(aO.target!==this&&!(aL.length&&b(aO.target).closest(aL).length)){return}var aN=aa,aM=I;switch(aO.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=aO.keyCode;aK();break;case 35:M(Z-v);s=null;break;case 36:M(0);s=null;break}aJ=aO.keyCode==s&&aN!=aa||aM!=I;return!aJ}).bind("keypress.jsp",function(aM){if(aM.keyCode==s){aK()}return!aJ});if(az.hideFocus){D.css("outline","none");if("hideFocus"in am[0]){D.attr("hideFocus",true)}}else{D.css("outline","");if("hideFocus"in am[0]){D.attr("hideFocus",false)}}function aK(){var aN=aa,aM=I;switch(s){case 40:Q.scrollByY(az.keyboardSpeed,false);break;case 38:Q.scrollByY(-az.keyboardSpeed,false);break;case 34:case 32:Q.scrollByY(v*az.scrollPagePercent,false);break;case 33:Q.scrollByY(-v*az.scrollPagePercent,false);break;case 39:Q.scrollByX(az.keyboardSpeed,false);break;case 37:Q.scrollByX(-az.keyboardSpeed,false);break}aJ=aN!=aa||aM!=I;return aJ}}function R(){D.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function C(){if(location.hash&&location.hash.length>1){var aL,aJ,aK=escape(location.hash);try{aL=b(aK)}catch(s){return}if(aL.length&&Y.find(aK)){if(am.scrollTop()===0){aJ=setInterval(function(){if(am.scrollTop()>0){ab(aK,true);b(document).scrollTop(am.position().top);clearInterval(aJ)}},50)}else{ab(aK,true);b(document).scrollTop(am.position().top)}}}}function ai(){b("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function m(){ai();b("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var s=this.href.split("#"),aJ;if(s.length>1){aJ=s[1];if(aJ.length>0&&Y.find("#"+aJ).length>0){ab("#"+aJ,true);return false}}})}function ao(){var aK,aJ,aM,aL,aN,s=false;am.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(aO){var aP=aO.originalEvent.touches[0];aK=aD();aJ=aB();aM=aP.pageX;aL=aP.pageY;aN=false;s=true}).bind("touchmove.jsp",function(aR){if(!s){return}var aQ=aR.originalEvent.touches[0],aP=aa,aO=I;Q.scrollTo(aK+aM-aQ.pageX,aJ+aL-aQ.pageY);aN=aN||Math.abs(aM-aQ.pageX)>5||Math.abs(aL-aQ.pageY)>5;return aP==aa&&aO==I}).bind("touchend.jsp",function(aO){s=false}).bind("click.jsp-touchclick",function(aO){if(aN){aN=false;return false}})}function g(){var s=aB(),aJ=aD();D.removeClass("jspScrollable").unbind(".jsp");D.replaceWith(ap.append(Y.children()));ap.scrollTop(s);ap.scrollLeft(aJ)}b.extend(Q,{reinitialise:function(aJ){aJ=b.extend({},az,aJ);at(aJ)},scrollToElement:function(aK,aJ,s){ab(aK,aJ,s)},scrollTo:function(aK,s,aJ){N(aK,aJ);M(s,aJ)},scrollToX:function(aJ,s){N(aJ,s)},scrollToY:function(s,aJ){M(s,aJ)},scrollToPercentX:function(aJ,s){N(aJ*(T-ak),s)},scrollToPercentY:function(aJ,s){M(aJ*(Z-v),s)},scrollBy:function(aJ,s,aK){Q.scrollByX(aJ,aK);Q.scrollByY(s,aK)},scrollByX:function(s,aK){var aJ=aD()+Math[s<0?"floor":"ceil"](s),aL=aJ/(T-ak);W(aL*j,aK)},scrollByY:function(s,aK){var aJ=aB()+Math[s<0?"floor":"ceil"](s),aL=aJ/(Z-v);V(aL*i,aK)},positionDragX:function(s,aJ){W(s,aJ)},positionDragY:function(aJ,s){V(aJ,s)},animate:function(aJ,aM,s,aL){var aK={};aK[aM]=s;aJ.animate(aK,{duration:az.animateDuration,easing:az.animateEase,queue:false,step:aL})},getContentPositionX:function(){return aD()},getContentPositionY:function(){return aB()},getContentWidth:function(){return T},getContentHeight:function(){return Z},getPercentScrolledX:function(){return aD()/(T-ak)},getPercentScrolledY:function(){return aB()/(Z-v)},getIsScrollableH:function(){return aF},getIsScrollableV:function(){return aA},getContentPane:function(){return Y},scrollToBottom:function(s){V(i,s)},hijackInternalLinks:function(){m()},destroy:function(){g()}});at(O)}e=b.extend({},b.fn.jScrollPane.defaults,e);b.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed});return this.each(function(){var f=b(this),g=f.data("jsp");if(g){g.reinitialise(e)}else{g=new d(f,e);f.data("jsp",g)}})};b.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);
;;;
(function(c){c.address=function(){var v=function(a){c(c.address).trigger(c.extend(c.Event(a),function(){for(var b={},e=c.address.parameterNames(),f=0,p=e.length;f<p;f++)b[e[f]]=c.address.parameter(e[f]);return{value:c.address.value(),path:c.address.path(),pathNames:c.address.pathNames(),parameterNames:e,parameters:b,queryString:c.address.queryString()}}.call(c.address)))},w=function(){c().bind.apply(c(c.address),Array.prototype.slice.call(arguments));return c.address},r=function(){return M.pushState&&d.state!==k},s=function(){return("/"+g.pathname.replace(new RegExp(d.state),"")+g.search+(D()?"#"+D():"")).replace(U,"/")},D=function(){var a=g.href.indexOf("#");return a!=-1?B(g.href.substr(a+1),l):""},u=function(){return r()?s():D()},ha=function(){return"javascript"},N=function(a){a=a.toString();return(d.strict&&a.substr(0,1)!="/"?"/":"")+a},B=function(a,b){if(d.crawlable&&b)return(a!==""?"!":"")+a;return a.replace(/^\!/,"")},x=function(a,b){return parseInt(a.css(b),10)},V=function(a){for(var b,e,f=0,p=a.childNodes.length;f<p;f++){try{if("src"in a.childNodes[f]&&a.childNodes[f].src)b=String(a.childNodes[f].src)}catch(J){}if(e=V(a.childNodes[f]))b=e}return b},F=function(){if(!K){var a=u();if(h!=a)if(y&&q<7)g.reload();else{y&&q<8&&d.history&&t(O,50);h=a;E(l)}}},E=function(a){v(W);v(a?X:Y);t(Z,10)},Z=function(){if(d.tracker!=="null"&&d.tracker!==null){var a=c.isFunction(d.tracker)?d.tracker:j[d.tracker],b=(g.pathname+g.search+(c.address&&!r()?c.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");if(c.isFunction(a))a(b);else if(c.isFunction(j.urchinTracker))j.urchinTracker(b);else if(j.pageTracker!==k&&c.isFunction(j.pageTracker._trackPageview))j.pageTracker._trackPageview(b);else j._gaq!==k&&c.isFunction(j._gaq.push)&&j._gaq.push(["_trackPageview",decodeURI(b)])}},O=function(){var a=ha()+":"+l+";document.open();document.writeln('<html><head><title>"+n.title.replace("'","\\'")+"</title><script>var "+C+' = "'+encodeURIComponent(u())+(n.domain!=g.hostname?'";document.domain="'+n.domain:"")+"\";<\/script></head></html>');document.close();";if(q<7)m.src=a;else m.contentWindow.location.replace(a)},aa=function(){if(G&&$!=-1){var a,b=G.substr($+1).split("&");for(i=0;i<b.length;i++){a=b[i].split("=");if(/^(autoUpdate|crawlable|history|strict|wrap)$/.test(a[0]))d[a[0]]=isNaN(a[1])?/^(true|yes)$/i.test(a[1]):parseInt(a[1],10)!==0;if(/^(state|tracker)$/.test(a[0]))d[a[0]]=a[1]}G=null}h=u()},ca=function(){if(!ba){ba=o;aa();var a=function(){ia.call(this);ja.call(this)},b=c("body").ajaxComplete(a);a();if(d.wrap){c("body > *").wrapAll('<div style="padding:'+(x(b,"marginTop")+x(b,"paddingTop"))+"px "+(x(b,"marginRight")+x(b,"paddingRight"))+"px "+(x(b,"marginBottom")+x(b,"paddingBottom"))+"px "+(x(b,"marginLeft")+x(b,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+C+'" style="height:100%;overflow:auto;position:relative;'+(H&&!window.statusbar.visible?"resize:both;":"")+'" />');c("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"});H&&c('<style type="text/css" />').appendTo("head").text("#"+
C+"::-webkit-resizer { background-color: #fff; }")}if(y&&q<8){a=n.getElementsByTagName("frameset")[0];m=n.createElement((a?"":"i")+"frame");if(a){a.insertAdjacentElement("beforeEnd",m);a[a.cols?"cols":"rows"]+=",0";m.noResize=o;m.frameBorder=m.frameSpacing=0}else{m.style.display="none";m.style.width=m.style.height=0;m.tabIndex=-1;n.body.insertAdjacentElement("afterBegin",m)}t(function(){c(m).bind("load",function(){var e=m.contentWindow;h=e[C]!==k?e[C]:"";if(h!=u()){E(l);g.hash=B(h,o)}});m.contentWindow[C]===k&&O()},50)}t(function(){v("init");E(l)},1);if(!r())if(y&&q>7||!y&&"on"+I in j)if(j.addEventListener)j.addEventListener(I,F,l);else j.attachEvent&&j.attachEvent("on"+I,F);else ka(F,50)}},ia=function(){var a,b=c("a"),e=b.size(),f=-1,p=function(){if(++f!=e){a=c(b.get(f));a.is('[rel*="address:"]')&&a.address();t(p,1)}};t(p,1)},la=function(){if(h!=u()){h=u();E(l)}},ma=function(){if(j.removeEventListener)j.removeEventListener(I,F,l);else j.detachEvent&&j.detachEvent("on"+I,F)},ja=function(){if(d.crawlable){var a=g.pathname.replace(/\/$/,"");c("body").html().indexOf("_escaped_fragment_")!=-1&&c('a[href]:not([href^=http]), a[href*="'+document.domain+'"]').each(function(){var b=c(this).attr("href").replace(/^http:/,"").replace(new RegExp(a+"/?$"),"");if(b===""||b.indexOf("_escaped_fragment_")!=-1)c(this).attr("href","#"+b.replace(/\/(.*)\?_escaped_fragment_=(.*)$/,"!$2"))})}},k,C="jQueryAddress",I="hashchange",W="change",X="internalChange",Y="externalChange",o=true,l=false,d={autoUpdate:o,crawlable:l,history:o,strict:o,wrap:l},z=c.browser,q=parseFloat(c.browser.version),da=z.mozilla,y=z.msie,ea=z.opera,H=z.webkit||z.safari,P=l,j=function(){try{return top.document!==k?top:window}catch(a){return window}}(),n=j.document,M=j.history,g=j.location,ka=setInterval,t=setTimeout,U=/\/{2,9}/g;z=navigator.userAgent;var m,G=V(document),$=G?G.indexOf("?"):-1,Q=n.title,K=l,ba=l,R=o,fa=o,L=l,h=u();if(y){q=parseFloat(z.substr(z.indexOf("MSIE")+4));if(n.documentMode&&n.documentMode!=q)q=n.documentMode!=8?7:8;var ga=n.onpropertychange;n.onpropertychange=function(){ga&&ga.call(n);if(n.title!=Q&&n.title.indexOf("#"+u())!=-1)n.title=Q}}if(P=da&&q>=1||y&&q>=6||ea&&q>=9.5||H&&q>=523){if(ea)history.navigationMode="compatible";if(document.readyState=="complete")var na=setInterval(function(){if(c.address){ca();clearInterval(na)}},50);else{aa();c(ca)}c(window).bind("popstate",la).bind("unload",ma)}else!P&&D()!==""?g.replace(g.href.substr(0,g.href.indexOf("#"))):Z();return{bind:function(a,b,e){return w(a,b,e)},init:function(a){return w("init",a)},change:function(a){return w(W,a)},internalChange:function(a){return w(X,a)},externalChange:function(a){return w(Y,a)},baseURL:function(){var a=g.href;if(a.indexOf("#")!=-1)a=a.substr(0,a.indexOf("#"));if(/\/$/.test(a))a=a.substr(0,a.length-1);return a},autoUpdate:function(a){if(a!==k){d.autoUpdate=a;return this}return d.autoUpdate},crawlable:function(a){if(a!==k){d.crawlable=a;return this}return d.crawlable},history:function(a){if(a!==k){d.history=a;return this}return d.history},state:function(a){if(a!==k){d.state=a;var b=s();if(d.state!==k)if(M.pushState)b.substr(0,3)=="/#/"&&g.replace(d.state.replace(/^\/$/,"")+b.substr(2));else b!="/"&&b.replace(/^\/#/,"")!=D()&&t(function(){g.replace(d.state.replace(/^\/$/,"")+"/#"+b)},1);return this}return d.state},strict:function(a){if(a!==k){d.strict=a;return this}return d.strict},tracker:function(a){if(a!==k){d.tracker=a;return this}return d.tracker},wrap:function(a){if(a!==k){d.wrap=a;return this}return d.wrap},update:function(){L=o;this.value(h);L=l;return this},title:function(a){if(a!==k){t(function(){Q=n.title=a;if(fa&&m&&m.contentWindow&&m.contentWindow.document){m.contentWindow.document.title=a;fa=l}if(!R&&da)g.replace(g.href.indexOf("#")!=-1?g.href:g.href+"#");R=l},50);return this}return n.title},value:function(a){if(a!==k){a=N(a);if(a=="/")a="";if(h==a&&!L)return;R=o;h=a;if(d.autoUpdate||L){E(o);if(r())M[d.history?"pushState":"replaceState"]({},"",d.state.replace(/\/$/,"")+(h===""?"/":h));else{K=o;if(H)if(d.history)g.hash="#"+B(h,o);else g.replace("#"+
B(h,o));else if(h!=u())if(d.history)g.hash="#"+B(h,o);else g.replace("#"+B(h,o));y&&q<8&&d.history&&t(O,50);if(H)t(function(){K=l},1);else K=l}}return this}if(!P)return null;return N(h)},path:function(a){if(a!==k){var b=this.queryString(),e=this.hash();this.value(a+(b?"?"+b:"")+(e?"#"+e:""));return this}return N(h).split("#")[0].split("?")[0]},pathNames:function(){var a=this.path(),b=a.replace(U,"/").split("/");if(a.substr(0,1)=="/"||a.length===0)b.splice(0,1);a.substr(a.length-1,1)=="/"&&b.splice(b.length-
1,1);return b},queryString:function(a){if(a!==k){var b=this.hash();this.value(this.path()+(a?"?"+a:"")+(b?"#"+b:""));return this}a=h.split("?");return a.slice(1,a.length).join("?").split("#")[0]},parameter:function(a,b,e){var f,p;if(b!==k){var J=this.parameterNames();p=[];b=b?b.toString():"";for(f=0;f<J.length;f++){var S=J[f],A=this.parameter(S);if(typeof A=="string")A=[A];if(S==a)A=b===null||b===""?[]:e?A.concat([b]):[b];for(var T=0;T<A.length;T++)p.push(S+"="+A[T])}c.inArray(a,J)==-1&&b!==null&&b!==""&&p.push(a+"="+b);this.queryString(p.join("&"));return this}if(b=this.queryString()){e=[];p=b.split("&");for(f=0;f<p.length;f++){b=p[f].split("=");b[0]==a&&e.push(b.slice(1).join("="))}if(e.length!==0)return e.length!=1?e:e[0]}},parameterNames:function(){var a=this.queryString(),b=[];if(a&&a.indexOf("=")!=-1){a=a.split("&");for(var e=0;e<a.length;e++){var f=a[e].split("=")[0];c.inArray(f,b)==-1&&b.push(f)}}return b},hash:function(a){if(a!==k){this.value(h.split("#")[0]+(a?"#"+a:""));return this}a=h.split("#");return a.slice(1,a.length).join("#")}}}();c.fn.address=function(v){if(!c(this).attr("address")){var w=function(r){if(r.shiftKey||r.ctrlKey||r.metaKey)return true;if(c(this).is("a")){var s=v?v.call(this):/address:/.test(c(this).attr("rel"))?c(this).attr("rel").split("address:")[1].split(" ")[0]:c.address.state()!==undefined&&c.address.state()!="/"?c(this).attr("href").replace(new RegExp("^(.*"+c.address.state()+"|\\.)"),""):c(this).attr("href").replace(/^(#\!?|\.)/,"");c.address.value(s);r.preventDefault()}};c(this).click(w).live("click",w).live("submit",function(r){if(c(this).is("form")){var s=c(this).attr("action");s=v?v.call(this):(s.indexOf("?")!=-1?s.replace(/&$/,""):s+"?")+c(this).serialize();c.address.value(s);r.preventDefault()}}).attr("address",true)}return this}})(jQuery);
;;;
(function($){$.createCache=function(requestFunction){var cache={};return function(key,callback){if(!cache[key]){cache[key]=$.Deferred(function(defer){requestFunction(defer,key);}).promise();}
return cache[key].done(callback);};}})(jQuery);
;;;
(function($){$.Tracker=(function(){var _trackers=[];var obj={registerTracker:function(type,config){var tracker=type.create(config);_trackers.push(tracker);},track:function(url){var urlToTrack=(url==null)?location.href:url;$.each(_trackers,function(){if("track"in this&&typeof(this.track)==="function"){this.track(urlToTrack);}});},trackSocial:function(network,action,url){var urlToTrack=(url==null)?location.href:url;$.each(_trackers,function(){if("trackSocial"in this&&typeof(this.trackSocial)==="function"){this.trackSocial(network,action,urlToTrack);}});}};return obj;})();})(jQuery);
;;;
(function($){$.loadingScreen=(function(){var __interval;var __startDots=function(){};var __stopDots=function(){};var obj={init:function(){var shim=$('<div id="pageShim"><div id="background"></div><div id="loadingMsg"><p>Loading</p><div id="dots"><img src="/images/loading_dot.png" alt="." /><img src="/images/loading_dot.png" alt="." /><img src="/images/loading_dot.png" alt="." /><img src="/images/loading_dot.png" alt="." /><img src="/images/loading_dot.png" alt="." /></div></div></div>');$('#page').append(shim);},show:function(){$('#pageShim').stop(true,false).delay(1000).fadeIn(200);__startDots();},hide:function(){$('#pageShim').stop(true,false).fadeOut(200);__stopDots();}};return obj;})();})(jQuery);
;;;
var GoogleAnalytics=(function(config){var _initialized=false;var _lastPrefix=96;var _generatePrefix=function(){_lastPrefix++;return String.fromCharCode(_lastPrefix);};var _init=function(){if(!_initialized){window._gaq=window._gaq||[];(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();_initialized=true;}};return{create:function(config){var prefix=_generatePrefix();_init();_gaq.push([prefix+'._setAccount',config.accountID]);var obj={track:function(url){_gaq.push([prefix+'._trackPageview',url]);},trackSocial:function(network,action,url){if(config.trackSocial){_gaq.push([prefix+'._trackSocial',network,action,url]);}}};if("domain"in config){_gaq.push([prefix+'._setDomainName',config.domain]);}
if("allowHash"in config){_gaq.push([prefix+'._setAllowHash',config.allowHash]);}
if("allowLinker"in config){_gaq.push([prefix+'._setAllowLinker',config.allowLinker]);}
if("trackPageLoadTime"in config&&config.trackPageLoadTime){_gaq.push([prefix+'._trackPageLoadTime']);}
if("FB"in window){FB.Event.subscribe('edge.create',function(targetUrl){obj.trackSocial('facebook','like',targetUrl);});}
if("twttr"in window){twttr.events.bind('tweet',function(event){if(event){var targetUrl;if(event.target&&event.target.nodeName=='IFRAME'){targetUrl=extractParamFromUri(event.target.src,'url');}
obj.trackSocial('twitter','tweet',targetUrl);}});}
return obj;}};})();
;;;
(function($){$.imagePreloader=(function(){var __loadingDiv=$('<div />');var __loadImage=null;var __ensureLoadImage=function(){if(__loadImage==null){__loadImage=$.createCache(function(defer,url){var image=new Image();__loadingDiv.append(image);var cleanUp=function(){image.onload=image.onerror=null;image=null;}
defer.always(cleanUp);image.onabort=image.onerror=image.onload=function(){defer.resolve(url);};image.src=url;cleanUp=null;});}};var IDLE='idle',PENDING='pending',LOADING='loading';var obj={__urls:[],__waitHandle:null,__state:IDLE,__onComplete:function(){if(this.__urls.length>0){this.__state=PENDING;}
else{this.__state=IDLE;}
this.__waitHandle=null;if("loadingScreen"in $){$.loadingScreen.hide();}},addImages:function(urls){var th=this;$.each(urls,function(i,e){if(e!=null&&e!=''&&$.inArray(e,th.__urls)==-1){th.__urls.push(e);}});if(this.__urls.length>0&&this.__state==IDLE){this.__state=PENDING;}
return obj;},requiresLoad:function(){return(this.__state!=IDLE);},flush:function(){__loadImage=null;__loadingDiv.empty();},load:function(){if(this.__state==PENDING){if("loadingScreen"in $){$.loadingScreen.show();}
__ensureLoadImage();var promises=[];$.each(this.__urls,function(i,e){promises.push(__loadImage(e));});this.__urls=[];this.__state=LOADING;this.__waitHandle=($.when.apply(null,promises)).always(jQuery.proxy(this.__onComplete,this));promises=null;}
else if(this.__state==IDLE){this.__waitHandle=($.when(this));}
return this.__waitHandle;}};return obj;})();})(jQuery);
;;;
(function($){$.transition=function(transition){var d=$.Deferred();var p=d.promise();$.extend(p,{start:function(){transition(d);return p;}});return p;};$.transitionManager=(function(){var __staggerTime=30;var __registeredObjs=[];var __queueDiv=$('<div></div>');var __queueName='transitionQueue';__queueDiv.queue(__queueName,function(next){next();});var onLoad=function(){__queueDiv.dequeue(__queueName);};var obj={__staggerTime:50,register:function(o){__registeredObjs.push(o);},build:function(){var ds=[];var ar=$.shuffle(__registeredObjs);$.each(ar,function(i,e){var obj=e;if(obj.getBuild){var fn=obj.getBuild();if(fn!=null){ds.push(fn);__queueDiv.delay(__staggerTime,__queueName).queue(__queueName,function(next){fn.start();fn=null;next();});}}});var promise=($.when.apply(null,ds));ds=null;if($.imagePreloader.requiresLoad()){$.imagePreloader.load().then(onLoad);}
else{__queueDiv.dequeue(__queueName);}
return promise;},doTransition:function(obj){if(obj){return this.__transitionOne(obj);}
var ds=[];var ar=$.shuffle(__registeredObjs);$.each(ar,function(i,e){if(e.getTransition){var fn=e.getTransition();if(fn!=null){ds.push(fn);__queueDiv.delay(__staggerTime,__queueName).queue(__queueName,function(next){fn.start();fn=null;next();});}}});var promise=($.when.apply(null,ds));ds=null;if($.imagePreloader.requiresLoad()){$.imagePreloader.load().then(onLoad);}
else{__queueDiv.dequeue(__queueName);}
return promise;},__transitionOne:function(obj){var promise=null;if(obj.getTransition){var fn=obj.getTransition();if(fn!=null){__queueDiv.delay(__staggerTime,__queueName).queue(__queueName,function(next){fn.start();fn=null;next();});promise=fn;}}
if(promise==null){promise=$.when({});}
if($.imagePreloader.requiresLoad()){$.imagePreloader.load().then(onLoad);}
else{__queueDiv.dequeue(__queueName);}
return promise;}};return obj;})();})(jQuery);
;;;
$(function(){$('.legalPanel').legalPanel();$.address.change(function(){var shown=$('.legalPanel').data('shown');var api=$('.legalPanel').data('obj');if($.address.value().toLowerCase()=='/terms-and-conditions'&&shown==false){api.showPanel();$(window).scrollTop(0);$.transitionManager.doTransition(api);}
else if(shown==true){api.hidePanel();$.transitionManager.doTransition(api);}});});(function($){$.fn.legalPanel=function(){return this.each(function(){var th=$(this);if(th==null||th.data('obj')!=null){return;}
th.click(function(evt){evt.stopPropagation();});th.data('shown',false);th.find('.closeButton').click(function(){var prevAddr=$('#site').data('prevAddr');$.address.value(prevAddr);return false;});th.find('.moduleInner .imgWrapper').each(function(){var shade=255-Math.floor(25*Math.random());var hexShade=shade.toString(16);$(this).css('background-color','#'+hexShade+hexShade+hexShade);});var obj={__pendingTransition:'',module:$(this),getTransition:function(){var tx=null;switch(this.__pendingTransition.toLowerCase()){case'showpanel':tx=this.__showPanel();break;case'hidepanel':tx=this.__hidePanel();break;default:break;}
this.__pendingTransition='';return tx;},showPanel:function(){if(Modernizr.csstransitions||IE_Version>8){this.__pendingTransition='showPanel';}
else{this.module.data('shown',true);this.module.find('.panelInner').removeClass('out');this.module.find('.moduleInner .imgWrapper').removeClass('prev');this.module.css('z-index',9999);$('#site').click(function(){var prevAddr=$('#site').data('prevAddr');$.address.value(prevAddr);});this.module.find('.scrollWrapper').data('jsp').reinitialise();}},hidePanel:function(){$('#site').unbind('click');if(Modernizr.csstransitions||IE_Version>8){this.__pendingTransition='hidePanel';}
else{this.module.data('shown',false);this.module.find('.panelInner').addClass('out');this.module.find('.moduleInner .imgWrapper').addClass('prev');this.module.css('z-index',0);}},__showPanel:function(){var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){var transitionEnd=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');$(this).parents('.module.legalPanel').data('shown',true);$('#site').click(function(){var prevAddr=$('#site').data('prevAddr');$.address.value(prevAddr);});defer.resolve();};module.find('.panelInner').bind('transitionend',transitionEnd).bind('webkitTransitionEnd',transitionEnd).bind('oTransitionEnd',transitionEnd);transitionEnd=null;module.css('z-index',9999);var ar=$($.shuffle(module.find('.moduleInner').get()));ar.each(function(){var t=$(this);module.delay(10).queue(function(next){t.find('.imgWrapper.prev').removeClass('prev');next();});});module.delay(200).queue(function(next){module.find('.panelInner').removeClass('out');module=null;next();});ar=null;});}
else if(IE_Version>8){tx=$.transition(function(defer){module.css('z-index',9999);var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).parents('.module.legalPanel').data('shown',true);$('#site').click(function(){var prevAddr=$('#site').data('prevAddr');$.address.value(prevAddr);});defer.resolve();}:null;module.delay(50).queue(function(next){mod.find('.imgWrapper.prev').animate({left:0},500,'easeOutQuad',fn);mod=null;fn=null;next();});});module.delay(200).queue(function(next){module.find('.panelInner').fadeTo(500,1,'easeOutQuad');module=null;next();});ar=null;});}
return tx;},__hidePanel:function(){var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){var transitionEnd=function(evt){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');$(this).parents('.module.legalPanel').css('z-index',0).data('shown',false);defer.resolve();};var ar=$($.shuffle(module.find('.moduleInner').get()));ar.last().bind('transitionend',transitionEnd).bind('webkitTransitionEnd',transitionEnd).bind('oTransitionEnd',transitionEnd);transitionEnd=null;module.delay(10).queue(function(next){module.find('.panelInner').addClass('out');module=null;next();});module.delay(200);ar.each(function(){var t=$(this);module.delay(10).queue(function(next){t.find('.imgWrapper').addClass('prev');next();});});ar=null;});}
else if(IE_Version>8){tx=$.transition(function(defer){module.delay(10).queue(function(next){module.find('.panelInner').fadeTo(500,0,'easeOutQuad');module=null;next();});var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;module.delay(200);ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).parents('.module.legalPanel').css('z-index',0).data('shown',false);defer.resolve();}:null;module.delay(10).queue(function(next){var width=mod.width()*1.25;mod.find('.imgWrapper.prev').animate({left:width},500,'easeOutQuad',fn);mod=null;fn=null;next();});});ar=null;});}
return tx;}};th.data('obj',obj);$.transitionManager.register(obj);th=null;obj=null;});};})(jQuery);
;;;
$(function(){$('.contactPanel').contactPanel();$.address.change(function(){var shown=$('.contactPanel').data('shown');var api=$('.contactPanel').data('obj');if($.address.value().toLowerCase()=='/contact-us'&&shown==false){api.showPanel();$.transitionManager.doTransition(api);}
else if(shown==true){api.hidePanel();$.transitionManager.doTransition(api);}});});(function($){$.fn.contactPanel=function(){return this.each(function(){var th=$(this);if(th==null||th.data('obj')!=null){return;}
th.click(function(evt){evt.stopPropagation();});th.data('shown',false);th.find('.closeButton').click(function(){var prevAddr=$('#site').data('prevAddr');$.address.value(prevAddr);return false;});th.find('.moduleInner .imgWrapper').each(function(){var shade=255-Math.floor(25*Math.random());var hexShade=shade.toString(16);$(this).css('background-color','#'+hexShade+hexShade+hexShade);});var obj={__pendingTransition:'',module:$(this),getTransition:function(){var tx=null;switch(this.__pendingTransition.toLowerCase()){case'showpanel':tx=this.__showPanel();break;case'hidepanel':tx=this.__hidePanel();break;default:break;}
this.__pendingTransition='';return tx;},showPanel:function(){if(Modernizr.csstransitions||IE_Version>8){this.__pendingTransition='showPanel';}
else{this.module.data('shown',true);this.module.find('.panelInner').removeClass('out');this.module.find('.moduleInner .imgWrapper').removeClass('prev');this.module.css('z-index',9999);$('#site').click(function(){var prevAddr=$('#site').data('prevAddr');$.address.value(prevAddr);});}},hidePanel:function(){$('#site').unbind('click');if(Modernizr.csstransitions||IE_Version>8){this.__pendingTransition='hidePanel';}
else{this.module.data('shown',false);this.module.find('.panelInner').addClass('out');this.module.find('.moduleInner .imgWrapper').addClass('prev');this.module.css('z-index',0);}},__showPanel:function(){var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){var transitionEnd=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');$(this).parents('.module.contactPanel').data('shown',true);$('#site').click(function(){var prevAddr=$('#site').data('prevAddr');$.address.value(prevAddr);});defer.resolve();};module.find('.panelInner').bind('transitionend',transitionEnd).bind('webkitTransitionEnd',transitionEnd).bind('oTransitionEnd',transitionEnd);transitionEnd=null;module.css('z-index',9999);var ar=$($.shuffle(module.find('.moduleInner').get()));ar.each(function(){var t=$(this);module.delay(10).queue(function(next){t.find('.imgWrapper.prev').removeClass('prev');next();});});module.delay(200).queue(function(next){module.find('.panelInner').removeClass('out');module=null;next();});ar=null;});}
else if(IE_Version>8){tx=$.transition(function(defer){module.css('z-index',9999);var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).parents('.module.contactPanel').data('shown',true);$('#site').click(function(){var prevAddr=$('#site').data('prevAddr');$.address.value(prevAddr);});defer.resolve();}:null;module.delay(50).queue(function(next){mod.find('.imgWrapper.prev').animate({left:0},500,'easeOutQuad',fn);mod=null;fn=null;next();});});module.delay(200).queue(function(next){module.find('.panelInner').fadeTo(500,1,'easeOutQuad');module=null;next();});ar=null;});}
return tx;},__hidePanel:function(){var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){var transitionEnd=function(evt){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');$(this).parents('.module.contactPanel').css('z-index',0).data('shown',false);defer.resolve();};var ar=$($.shuffle(module.find('.moduleInner').get()));ar.last().bind('transitionend',transitionEnd).bind('webkitTransitionEnd',transitionEnd).bind('oTransitionEnd',transitionEnd);transitionEnd=null;module.delay(10).queue(function(next){module.find('.panelInner').addClass('out');module=null;next();});module.delay(200);ar.each(function(){var t=$(this);module.delay(10).queue(function(next){t.find('.imgWrapper').addClass('prev');next();});});ar=null;});}
else if(IE_Version>8){tx=$.transition(function(defer){module.delay(10).queue(function(next){module.find('.panelInner').fadeTo(500,0,'easeOutQuad');module=null;next();});var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;module.delay(200);ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).parents('.module.contactPanel').css('z-index',0).data('shown',false);defer.resolve();}:null;module.delay(10).queue(function(next){var width=mod.width()*1.25;mod.find('.imgWrapper.prev').animate({left:width},500,'easeOutQuad',fn);mod=null;fn=null;next();});});ar=null;});}
return tx;}};th.data('obj',obj);$.transitionManager.register(obj);th=null;obj=null;});};})(jQuery);
;;;
$(function(){$('#page .module.instagramModule').instagramModule();});(function($){$.fn.instagramModule=function(){return this.each(function(){var th=$(this);if(th==null||th.data('obj')!=null){return;}
if(!Modernizr.csstransitions){th.find('.rollover').hover(function(){$(this).fadeTo(300,1.0,'easeOutQuad');},function(){$(this).fadeTo(300,0,'easeOutQuad');});}
var obj={module:$(this),__currentImg:null,__pendingTransition:false,refreshModule:function(img){this.__currentImg=img;this.__pendingTransition=true;var url=this.__currentImg.images.low_resolution.url;$.imagePreloader.addImages([url]);},getBuild:function(){var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){var mi=module.find('.moduleInner');var end=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');defer.resolve();};mi.bind('transitionend',end).bind('webkitTransitionEnd',end).bind('oTransitionEnd',end);mi.removeClass('out');end=null;mi=null;module=null;});}
else if(Modernizr.csstransforms){tx=$.transition(function(defer){var end=function(){$(this).parent('.moduleInner').removeClass('out');defer.resolve();};module.find('.moduleInner .imgWrapper').animate({left:0},500,'easeOutQuad',end);module=null;end=null;});}
else if(Modernizr.opacity){tx=$.transition(function(defer){var end=function(){$(this).parent('.moduleInner').removeClass('out');defer.resolve();};module.find('.moduleInner .imgWrapper').css({left:0,opacity:0}).fadeTo(500,1,'easeOutQuad',end);module=null;end=null;});}
else{module.find('.moduleInner').removeClass('out');tx=$.transition(function(defer){defer.resolve();});}
return tx;},getTransition:function(){if(this.__pendingTransition==false){return null;}
this.__pendingTransition=false;var tx=null;var module=this.module;if(Modernizr.csstransitions){tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var transitionEnd=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');$(this).parents('.module.instagramModule').find('.moduleInner .imgWrapper.prev').empty().remove();defer.resolve();};ar.last().bind('transitionend',transitionEnd).bind('webkitTransitionEnd',transitionEnd).bind('oTransitionEnd',transitionEnd);transitionEnd=null;ar.each(function(){var mod=$(this);module.delay(50).queue(function(next){mod.find('.imgWrapper:not(.next)').addClass('prev');mod.find('.imgWrapper.next').removeClass('next');mod=null;next();});});module=null;ar=null;});}
else if(Modernizr.csstransforms){tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).removeClass('next');defer.resolve();}:function(){$(this).removeClass('next');};module.delay(50).queue(function(next){var width=mod.width()*1.25;mod.find('.imgWrapper:not(.next)').animate({left:width},500,'easeOutQuad',function(){$(this).empty().remove();});mod.find('.imgWrapper.next').animate({left:0},500,'easeOutQuad',fn);mod=null;fn=null;next();});});module=null;ar=null;});}
else{tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).removeClass('next');defer.resolve();}:function(){$(this).removeClass('next');};module.delay(50).queue(function(next){var width=mod.width()*1.25;mod.find('.imgWrapper:not(.next)').css({left:0}).fadeTo(500,0,'easeOutQuad',function(){$(this).empty().remove();});mod.find('.imgWrapper.next').css({left:0,opacity:0}).fadeTo(500,1,'easeOutQuad',fn);mod=null;fn=null;next();});});module=null;ar=null;});}
return tx;},__update:function(){var url=this.__currentImg.images.low_resolution.url;var oldMod=this.module.find('.moduleInner .imgWrapper');var newMod=$('<div class="imgWrapper next"><img src="'+url+'" /></div>');oldMod.after(newMod);this.module.find('a.rollover').attr('href',this.__currentImg.link);}};th.data('obj',obj);$.transitionManager.register(obj);th=null;obj=null;});};})(jQuery);
;;;
$(function(){$('.module.imageModule').imageModule();});(function($){$.fn.imageModule=function(){return this.each(function(){var th=$(this);if(th==null||th.data('obj')!=null){return;}
var obj={module:$(this),__current:{url:'',alt:''},__transitionPending:false,setImage:function(url,alt){$.imagePreloader.addImages([url]);this.__current.url=url;this.__current.alt=alt;this.__transitionPending=true;},getTransition:function(){if(!this.__transitionPending){return null;}
this.__transitionPending=false;var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var transitionEnd=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');$(this).parents('.module.imageModule').find('.moduleInner .imgWrapper.prev').empty().remove();defer.resolve();};ar.last().bind('transitionend',transitionEnd).bind('webkitTransitionEnd',transitionEnd).bind('oTransitionEnd',transitionEnd);transitionEnd=null;ar.each(function(){var mod=$(this);module.delay(50).queue(function(next){mod.find('.imgWrapper:not(.next)').addClass('prev');mod.find('.imgWrapper.next').removeClass('next');mod=null;next();});});ar=null;module=null;});}
else if(IE_Version>8){tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).removeClass('next');defer.resolve();}:function(){$(this).removeClass('next');};module.delay(50).queue(function(next){var width=mod.width()*1.25;mod.find('.imgWrapper:not(.next)').animate({left:width},500,'easeOutQuad',function(){$(this).empty().remove();});mod.find('.imgWrapper.next').animate({left:0},500,'easeOutQuad',fn);mod=null;fn=null;next();});});ar=null;module=null;});}
else{tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).removeClass('next');defer.resolve();}:function(){$(this).removeClass('next');};module.delay(50).queue(function(next){var width=mod.width()*1.25;mod.find('.imgWrapper:not(.next)').css('left',0).fadeTo(500,0,'easeOutQuad',function(){$(this).empty().remove();});mod.find('.imgWrapper.next').css({left:0,opacity:0}).fadeTo(500,1,'easeOutQuad',fn);mod=null;fn=null;next();});});ar=null;module=null;});}
return tx;},__update:function(){var wrappers=this.module.find('.moduleInner');var th=this;wrappers.each(function(i){var newMod=$('<div class="imgWrapper next"><img src="'+th.__current.url+'" alt="'+th.__current.alt+'" /></div>');$(this).append(newMod);});}};th.data('obj',obj);$.transitionManager.register(obj);th=null;obj=null;});};})(jQuery);
;;;
$(function(){$('#page .module.textModule').textModule();});(function($){$.fn.textModule=function(){return this.each(function(){var th=$(this);if(th==null||th.data('obj')!=null){return;}
var obj={module:$(this),getBuild:function(){var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){var mi=module.find('.moduleInner');var end=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');defer.resolve();};mi.bind('transitionend',end).bind('webkitTransitionEnd',end).bind('oTransitionEnd',end);mi.removeClass('out');end=null;mi=null;module=null;});}
else if(Modernizr.csstransforms){tx=$.transition(function(defer){var end=function(){$(this).parent('.moduleInner').removeClass('out');defer.resolve();};module.find('.moduleInner .imgWrapper').animate({left:0},500,'easeOutQuad',end);module=null;end=null;});}
else if(Modernizr.opacity){tx=$.transition(function(defer){var end=function(){$(this).parent('.moduleInner').removeClass('out');defer.resolve();};module.find('.moduleInner .imgWrapper').css({left:0,opacity:0}).fadeTo(500,1,'easeOutQuad',end);module=null;end=null;});}
else{module.find('.moduleInner').removeClass('out');tx=$.transition(function(defer){defer.resolve();});}
return tx;},setText:function(text){if(this.module.hasClass('long')){var scrollWrapper=this.module.find('.scrollWrapper');if(scrollWrapper.find('.jspPane')[0]){scrollWrapper.find('.jspPane').html(text);}
else{scrollWrapper.html(text);}
var api=scrollWrapper.data('jsp');if(api!=null){api.reinitialise();}
else{scrollWrapper.jScrollPane();}}
else{this.module.find('a.moduleLink').html(text);}},setLink:function(link){if(this.module.hasClass('short')){this.module.find('a.moduleLink').attr('href',link);}}};th.data('obj',obj);$.transitionManager.register(obj);th=null;obj=null;});};})(jQuery);
;;;
$(function(){$('#page .module.newsModule').newsModule();var fn=function(){$('.module.newsModule').each(function(){$(this).data('obj').updateLayout();});}
$("#site").bind("refreshLayout",fn);fn=null;});(function($){$.fn.newsModule=function(){return this.each(function(){var th=$(this);if(th==null||th.data('obj')!=null){return;}
th.data('selIdx',0);th.find('nav a[rel="prev"]').click(function(){var api=$(this).parents('.module.newsModule').data('obj');api.showPreviousItem();$.transitionManager.doTransition(api);return false;});th.find('nav a[rel="next"]').click(function(){var api=$(this).parents('.module.newsModule').data('obj');api.showNextItem();$.transitionManager.doTransition(api);return false;});var obj={module:$(this),__newsPageUrl:$(this).find('.more a').attr('href'),__pendingTransition:false,getBuild:function(){var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){var mi=module.find('.moduleInner');var end=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');defer.resolve();};mi.bind('transitionend',end).bind('webkitTransitionEnd',end).bind('oTransitionEnd',end);mi.removeClass('out');end=null;mi=null;module=null;});}
else if(Modernizr.csstransforms){tx=$.transition(function(defer){var end=function(){$(this).parent('.moduleInner').removeClass('out');defer.resolve();}
module.find('.moduleInner .imgWrapper').animate({left:0},500,'easeOutQuad',end);module=null;end=null;});}
else if(Modernizr.opacity){tx=$.transition(function(defer){var end=function(){$(this).parent('.moduleInner').removeClass('out');defer.resolve();}
module.find('.moduleInner .imgWrapper').css({left:0,opacity:0}).fadeTo(500,1,'easeOutQuad',end);module=null;end=null;});}
else{module.find('.moduleInner').removeClass('out');tx=$.transition(function(defer){defer.resolve();});}
return tx;},showNextItem:function(){var newsItems=this.module.find('.itemList .item');var selIdx=this.module.data('selIdx');if(selIdx<newsItems.length-1){selIdx++;this.__pendingTransition=true;this.module.data('selIdx',selIdx);}},showPreviousItem:function(){var selIdx=this.module.data('selIdx');if(selIdx>0){selIdx--;this.__pendingTransition=true;this.module.data('selIdx',selIdx);}},getTransition:function(){if(this.__pendingTransition==false){return null;}
this.__pendingTransition=false;var o=this;var tx=$.transition(function(defer){o.updateLayout(defer.resolve);o=null;});return tx;},updateLayout:function(callback){var selIdx=this.module.data('selIdx');var width=parseInt(this.module.find('.itemList').css('width'));var deepLink=this.__newsPageUrl+'#/'+this.module.find('.itemList .item').eq(selIdx).data('deeplink');this.module.find('.more a').attr('href',deepLink);var newsItems=this.module.find('.itemList .item');newsItems.filter(':animated').stop(true,true);if(Modernizr.csstransitions&&callback){var end=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');callback();};newsItems.last().bind('transitionend',end).bind('webkitTransitionEnd',end).bind('oTransitionEnd',end);end=null;}
newsItems.removeClass('tx');newsItems.each(function(index){var left=(index-selIdx)*width;var curLeft=parseInt($(this).css('left'));if(curLeft!=left){if(Modernizr.csstransitions){$(this).css('left',left);if(left==0||curLeft==0){$(this).addClass('tx');}}
else{if(left==0){$(this).animate({left:left},500,'easeOutQuad',callback);}
else if(curLeft==0){$(this).animate({left:left},500,'easeOutQuad');}
else{$(this).css('left',left);}}}});}};th.data('obj',obj);$.transitionManager.register(obj);obj.updateLayout();th=null;obj=null;});};})(jQuery);
;;;
$(function(){$('.module.refreshModule').refreshModule();});(function($){$.fn.refreshModule=function(){return this.each(function(){var module=$(this);if(module==null){return;}
module.find('a.refreshArrow').click(function(){$(this).parents('.module.refreshModule').trigger('refresh');return false;});module=null;});};})(jQuery);
;;;
$(function(){$('#page .module.twitterModule').twitterModule();var fn=function(){$('#page .module.twitterModule').each(function(){$(this).data('obj').updateLayout();});}
$("#site").bind("refreshLayout",fn);fn=null;});(function($){$.fn.twitterModule=function(){return this.each(function(){var th=$(this);if(th==null||th.data('obj')!=null){return;}
th.data('selIdx',0);th.find('nav a[rel="prev"]').click(function(){var api=$(this).parents('.module.twitterModule').data('obj');api.showPreviousItem();$.transitionManager.doTransition(api);return false;});th.find('nav a[rel="next"]').click(function(){var api=$(this).parents('.module.twitterModule').data('obj');api.showNextItem();$.transitionManager.doTransition(api);return false;});var obj={module:$(this),__pendingTransition:false,showNextItem:function(){var tweets=this.module.find('.itemList .item');var selIdx=this.module.data('selIdx');if(selIdx<tweets.length-1){selIdx++;this.__pendingTransition=true;this.module.data('selIdx',selIdx);}},showPreviousItem:function(){var selIdx=this.module.data('selIdx');if(selIdx>0){selIdx--;this.__pendingTransition=true;this.module.data('selIdx',selIdx);}},getBuild:function(){var module=this.module;var tx=null;if(Modernizr.csstransitions){tx=$.transition(function(defer){var mi=module.find('.moduleInner');var end=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');$(this).addClass('in');defer.resolve();};mi.bind('transitionend',end).bind('webkitTransitionEnd',end).bind('oTransitionEnd',end);mi.removeClass('out');end=null;mi=null;module=null;});}
else if(Modernizr.csstransforms){tx=$.transition(function(defer){var end=function(){$(this).parent('.moduleInner').removeClass('out').addClass('in');defer.resolve();}
module.find('.moduleInner .imgWrapper').animate({left:0},500,'easeOutQuad',end);module=null;end=null;});}
else if(Modernizr.opacity){tx=$.transition(function(defer){var end=function(){$(this).parent('.moduleInner').removeClass('out').addClass('in');defer.resolve();}
module.find('.moduleInner .imgWrapper').css({left:0,opacity:0}).fadeTo(500,1,'easeOutQuad',end);module=null;end=null;});}
else{module.find('.moduleInner').removeClass('out').addClass('in');tx=$.transition(function(defer){defer.resolve();});}
return tx;},getTransition:function(){if(this.__pendingTransition==false){return null;}
this.__pendingTransition=false;var o=this;var tx=$.transition(function(defer){o.updateLayout(defer.resolve);o=null;});return tx;},updateLayout:function(callback){var selIdx=this.module.data('selIdx');var width=parseInt(this.module.find('.itemList').css('width'));var tweets=this.module.find('.itemList .item');tweets.filter(':animated').stop(true,true);if(Modernizr.csstransitions&&callback){var end=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');callback();};tweets.last().bind('transitionend',end).bind('webkitTransitionEnd',end).bind('oTransitionEnd',end);end=null;}
tweets.removeClass('tx');tweets.each(function(index){var left=(index-selIdx)*width;var curLeft=parseInt($(this).css('left'));if(curLeft!=left){if(Modernizr.csstransitions){$(this).css('left',left);if(left==0||curLeft==0){$(this).addClass('tx');}}
else{if(left==0){$(this).animate({left:left},500,'easeOutQuad',callback);}
else if(curLeft==0){$(this).animate({left:left},500,'easeOutQuad');}
else{$(this).css('left',left);}}}});}};th.data('obj',obj);$.transitionManager.register(obj);obj.updateLayout();th=null;obj=null;});};})(jQuery);
;;;
$(function(){$('#page .module.workModule').workModule();});(function($){$.fn.workModule=function(){return this.each(function(){var th=$(this);if(th==null||th.data('obj')!=null){return;}
if(!Modernizr.csstransitions){th.find('.rollover').hover(function(){$(this).fadeTo(300,1.0,'easeOutQuad');},function(){$(this).fadeTo(300,0,'easeOutQuad');});}
var obj={__currentWorkItem:null,__thumbnailIndex:null,__transitionPending:false,module:$(this),getBuild:function(){var module=this.module;var tx=null;if(module.find('.moduleInner').length==0){return null;}
if(Modernizr.csstransitions){tx=$.transition(function(defer){var ar=$($.shuffle(module.find('.moduleInner').get()));var transitionEnd=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');defer.resolve();};ar.last().bind('transitionend',transitionEnd).bind('webkitTransitionEnd',transitionEnd).bind('oTransitionEnd',transitionEnd);transitionEnd=null;ar.each(function(){var mod=$(this);module.delay(50).queue(function(next){mod.removeClass('out');mod=null;next();});});module=null;});}
else if(Modernizr.csstransforms){tx=$.transition(function(defer){var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).parent('.moduleInner').removeClass('out');defer.resolve();}:function(){$(this).parent('.moduleInner').removeClass('out');};module.delay(50).queue(function(next){mod.find('.imgWrapper').animate({left:0},500,'easeOutQuad',fn);mod=null;next();});});});}
else if(Modernizr.opacity){tx=$.transition(function(defer){var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).parent('.moduleInner').removeClass('out');defer.resolve();}:function(){$(this).parent('.moduleInner').removeClass('out');};module.delay(50).queue(function(next){mod.find('.imgWrapper').css({left:0,opacity:0}).fadeTo(500,1,'easeOutQuad',fn);mod=null;next();});});});}
else{module.find('.moduleInner').removeClass('out');tx=$.transition(function(defer){defer.resolve();});}
return tx;},refreshModule:function(wi){this.__transitionPending=((this.__currentWorkItem!=null&&wi==null)||wi!=null);this.__currentWorkItem=wi;this.__thumbnailIndex=-1;if(wi){var tCount=wi.Thumbnails.length;if(tCount>0){var wrappers=this.module.find('.moduleInner');this.__thumbnailIndex=Math.floor(Math.random()*tCount);if(wrappers.length==1){var url=wi.Thumbnails[this.__thumbnailIndex].ImageURL;$.imagePreloader.addImages([url]);}
else{$.imagePreloader.addImages(wi.Thumbnails[this.__thumbnailIndex].SliceURLs);}}}},getTransition:function(){if(!Modernizr.csstransitions){this.module.find('.imgWrapper:animated').stop(true,true);}
if(!this.__transitionPending||(this.__currentWorkItem&&this.__currentWorkItem.DeepLink=='')){return null;}
this.__transitionPending=false;var tx=null;var module=this.module;if(Modernizr.csstransitions){tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var transitionEnd=function(){$(this).unbind('transitionend').unbind('webkitTransitionEnd').unbind('oTransitionEnd');$(this).parents('.module.workModule').find('.moduleInner .imgWrapper.prev').empty().remove();defer.resolve();};ar.last().bind('transitionend',transitionEnd).bind('webkitTransitionEnd',transitionEnd).bind('oTransitionEnd',transitionEnd);transitionEnd=null;ar.each(function(){var mod=$(this);module.delay(50).queue(function(next){mod.find('.imgWrapper:not(.next)').addClass('prev');mod.find('.imgWrapper.next').removeClass('next');mod=null;next();});});module=null;ar=null;});}
else if(Modernizr.csstransforms){tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).removeClass('next');defer.resolve();}:function(){$(this).removeClass('next');};module.delay(50).queue(function(next){var width=mod.width()*1.25;mod.find('.imgWrapper:not(.next)').animate({left:width},500,'easeOutQuad',function(){$(this).empty().remove();});mod.find('.imgWrapper.next').animate({left:0},500,'easeOutQuad',fn);mod=null;next();});});module=null;ar=null;});}
else{tx=$.transition(function(defer){module.data('obj').__update();var ar=$($.shuffle(module.find('.moduleInner').get()));var last=ar.length-1;ar.each(function(i){var mod=$(this);var fn=(i==last)?function(){$(this).removeClass('next');defer.resolve();}:function(){$(this).removeClass('next');};module.delay(50).queue(function(next){var width=mod.width()*1.25;mod.find('.imgWrapper:not(.next)').css({left:0}).fadeTo(500,0,'easeOutQuad',function(){$(this).empty().remove();});mod.find('.imgWrapper.next').css({left:0,opacity:0}).fadeTo(500,1,'easeOutQuad',fn);mod=null;next();});});module=null;ar=null;});}
return tx;},__update:function(){var wi=this.__currentWorkItem;var idx=this.__thumbnailIndex;var wrappers=this.module.find('.moduleInner');var imageUrl;var newMod;if(wi){this.module.find('.shim').hide();if(idx>-1){if(wrappers.length==1){imageUrl=wi.Thumbnails[idx].ImageURL;newMod=$('<div class="imgWrapper next"><img src="'+imageUrl+'" alt="'+wi.Client+' - '+wi.Name+'" /></div>');wrappers.append(newMod);}
else{wrappers.each(function(i){imageUrl=wi.Thumbnails[idx].SliceURLs[i];newMod=$('<div class="imgWrapper next"><img src="'+imageUrl+'" alt="'+wi.Client+' - '+wi.Name+'" /></div>');$(this).append(newMod);});}}
var mediaType=(wi.MediaTypes.length==0)?"":wi.MediaTypes[0].Name;this.module.find('a.rollover').attr('href','/work#/'+wi.DeepLink).find('p.media').text(mediaType).end().find('p.client').text(wi.Client.toUpperCase()).end().find('p.campaign').text(wi.Name);}
else{this.module.find('.shim').show();if(wrappers.length==1){newMod=$('<div class="imgWrapper next"></div>');newMod.css('background-color','#EDEDED');wrappers.append(newMod);}
else{wrappers.each(function(i){newMod=$('<div class="imgWrapper next"></div>');newMod.css('background-color','#EDEDED');$(this).append(newMod);});}
this.module.find('a.rollover').attr('href','/work').find('p.media').text('').end().find('p.client').text('').end().find('p.campaign').text('');}}};th.data('obj',obj);$.transitionManager.register(obj);th=null;obj=null;});};})(jQuery);
;;;
history.navigationMode='compatible';var isSmall=($(window).width()<1280);var IE_Version;var IE_Engine;if(IE_Version)
{IE_Engine=parseFloat(navigator.appVersion);}
$(function(){if($.Tracker){$.Tracker.registerTracker(GoogleAnalytics,{accountID:'UA-25287565-1',domain:'.rodgerstownsend.com',allowHash:false,allowLinker:true,trackSocial:true,trackPageLoadTime:true});$.address.tracker($.Tracker.track);}
$(window).bind("resize",function(){var width=$(window).width();if((width>=1280&&isSmall==true)||(width<1280&&isSmall==false)){isSmall=!isSmall;$("#site").trigger("refreshLayout");$('#page .scrollWrapper').each(function(){var data=$(this).data('jsp');if(data!=null){data.reinitialise();}});}});$('#page .scrollWrapper').jScrollPane({showArrows:true,verticalGutter:20,mouseWheelSpeed:20,arrowButtonSpeed:5});var showSubnav=function(s){s.stop(true,false)
if(Modernizr.csstransitions){s.queue(function(next){s.addClass('show');next();});}
else{var parms={right:0};if(Modernizr.opacity){parms.opacity=1;}
s.animate(parms,1000,'easeOutQuad');}}
var hideSubnav=function(s){s.stop(true,false)
if(Modernizr.csstransitions){s.delay(333).queue(function(next){s.removeClass('show');next();});}
else{var parms={right:400};if(Modernizr.opacity){parms.opacity=0;}
s.delay(333).animate(parms,1000,'easeOutQuad');}}
$('#header header nav.site ul.subnav:not(.fixed)').hover(function(){showSubnav($(this));},function(){hideSubnav($(this));});$('#header header nav.site ul li').has('a[href="/about-us"]').hover(function(){var s=$('#header header nav.site ul.about-subnav:not(.fixed)');showSubnav(s);},function(){var s=$('#header header nav.site ul.about-subnav:not(.fixed)');hideSubnav(s);});$('#header header nav.site ul li').has('a[href="/our-work"]').hover(function(){var s=$('#header header nav.site ul.work-subnav:not(.fixed)');showSubnav(s);},function(){var s=$('#header header nav.site ul.work-subnav:not(.fixed)');hideSubnav(s);});var arr=$('img').map(function(idx,elem){return $(elem).attr('src');}).get();$.imagePreloader.addImages(arr);arr=null;if($.address.value()!='/contact-us'&&$.address.value()!='/terms-and-conditions'){$('#site').data('prevAddr',$.address.value());}
else{$('#site').data('prevAddr','/');}
$.address.change(function(evt){if(evt.path!='/contact-us'&&evt.path!='/terms-and-conditions'){$('#site').data('prevAddr',evt.path);}});var char=$('#pageFooter footer .copyright').text();if(char.charCodeAt(0)==169){$('#pageFooter footer .copyright').html("<span style='font-size: 0.85em; font-family: Georgia, serif;'>&#169;</span>"+$('#pageFooter footer .copyright').text().substr(1));}});function htmlEncode(str){return $('<div/>').text(str).html();}
(function($){$.fn.shuffle=function(){return this.each(function(){var items=$(this).children();return(items.length)?$(this).html($.shuffle(items)):this;});}
$.shuffle=function(arr){for(var j,x,i=arr.length;i;j=parseInt(Math.random()*i),x=arr[--i],arr[i]=arr[j],arr[j]=x);return arr;}})(jQuery);
;;;
function refreshWorkModules(){var defer=$.Deferred();var p=null;var refresh=function(arr,items){arr.each(function(i){$(this).data('obj').refreshModule(items[i]);});};var featured=$('.module.workModule').filter(function(idx){return $(this).data('featured')=='1';});var nonfeatured=$('.module.workModule').filter(function(idx){return $(this).data('featured')=='0';});if(featured.length>0||nonfeatured.length>0){p=$.getJSON('/workService.ashx',{count:nonfeatured.length,fcount:featured.length,t:new Date().valueOf()},function(data,textStatus,jqXHR){refresh(featured,data.featuredWorkItems);refresh(nonfeatured,data.workItems);featured=null;});}
if(p!=null){p.then(defer.resolve);}
else{defer.resolve();}
return defer.promise();}
function refreshInstagramModules(){var defer=$.Deferred();var fn=function(data,textStatus,jqXHR){$('.module.instagramModule').each(function(i){$(this).data('obj').refreshModule(data.photos[i]);});defer.resolve();defer=null;};var len=$('.module.instagramModule').length;if(len>0){$.getJSON('/instagramService.ashx',{op:"getlist",ct:$('.module.instagramModule').length,t:new Date().valueOf()},fn);}
else{defer.resolve();}
fn=null;return defer.promise();}
$(function(){$.loadingScreen.init();var transitioning=false;var prefetch=null;var transitionEnd=function(){transitioning=false;prefetch=$.when(refreshWorkModules(),refreshInstagramModules()).always(function(){$.imagePreloader.load();});};var refresh=function(){if(transitioning){return;}
transitioning=true;$.address.value('');prefetch.always(function(){$.transitionManager.doTransition().always(transitionEnd);});};$('.module.refreshModule').bind('refresh',refresh);refresh=null;var build=function(){transitioning=true;$.transitionManager.build().always(transitionEnd);};setTimeout(build,1000);build=null;});
;;;;;;